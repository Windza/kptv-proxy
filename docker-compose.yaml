services:
  kptv-proxy:
    image: ghcr.io/kpirnie/kptv-proxy:latest
    container_name: kptv_proxy
    restart: unless-stopped
    ports:
      - 9500:8080
    volumes:
      - /home/kpirnie/Development/Go/kptv-proxy/settings/:/settings/
    # for hardware accelleration with ffpmeg
    #devices:
    #  - /dev/dri:/dev/dri

    # Health check
    healthcheck:
      test: ["CMD", "wget", "--quiet", "--tries=1", "--spider", "http://localhost:8080/playlist"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 10s
FFmpeg Hardware Acceleration:
{
  "ffmpegMode": true,
  "ffmpegPreInput": [
    "-hwaccel", "vaapi",
    "-hwaccel_device", "/dev/dri/renderD128",
    "-re"
  ],
  "ffmpegPreOutput": [
    "-c:v", "h264_vaapi",
    "-c:a", "aac",
    "-f", "mpegts"
  ]
}
Provider Setup:
{
  "sources": [
    {
      "name": "Premium Eclipse",
      "url": "http://premiumeclipse2.xyz",
      "username": "SimonH170724",
      "password": "beWDwym",
      "order": 1,
      "maxConnections": 5
    }
  ]
}
